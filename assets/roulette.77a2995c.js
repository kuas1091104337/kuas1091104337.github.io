import{b as _,c as n,d as t,t as d,v as h,i as C,x as F,s as R,p as H,y as A,F as w,q as x,n as m,r as g,e as c,w as f,o as W,z as V,f as I,A as v,B as y,l as U,k as j,_ as q}from"./index.eec9c932.js";const E={key:0,class:"roulette_popup__box"},O=t("p",{class:"roulette_popup___title"},"\u606D\u559C\u8F49\u5230",-1),Y={class:"roulette_popup___name"},G=["src"],J=t("span",{class:"roulette_popup___close_cross"},null,-1),K=[J],Q={__name:"RoulettePopup",props:{lotteryNum:{type:[String,Number],default:""},rouletteAwardArr:{type:Array,default:()=>[]},popupHideFn:{type:Function,default:()=>{}}},setup(l){const e=l;return(i,s)=>(_(),n("div",{class:"roulette_popup",onClick:s[2]||(s[2]=(...a)=>e.popupHideFn&&e.popupHideFn(...a))},[t("div",{class:"roulette_popup_wrap",onClick:s[1]||(s[1]=C(()=>{},["stop"]))},[e.lotteryNum.toString()?(_(),n("section",E,[O,t("h3",Y,d(e.rouletteAwardArr[e.lotteryNum].name),1),t("img",{class:"roulette_popup___img",src:e.rouletteAwardArr[e.lotteryNum].src},null,8,G),t("div",{class:"roulette_popup___close",onClick:s[0]||(s[0]=(...a)=>e.popupHideFn&&e.popupHideFn(...a))},K)])):h("",!0)])]))}};const X={class:"roulette_rule"},Z={class:"roulette_rule_wrap"},ee=t("h2",{class:"roulette_rule__title"},"\u6D3B\u52D5\u898F\u5247",-1),te=["innerHTML"],_e={__name:"RouletteRule",props:{rouletteRule:{type:String,default:"text"}},setup(l){const e=l;return(i,s)=>(_(),n("div",X,[t("article",Z,[ee,t("div",{class:"roulette_rule__content",innerHTML:e.rouletteRule},null,8,te)])]))}};const oe={},ne={class:"DAtxtLoad DAtxtLoad-white"},se=R(" Loading"),re=t("span",{class:"DAtxtLoad_ing-white"},".",-1),ae=[se,re];function le(l,e){return _(),n("p",ne,ae)}const ie=F(oe,[["render",le]]);const ue={class:"roulette_main___winner"},ce={class:"roulette_main___winner__nav"},de=t("span",{class:"roulette_main___winner__nav_cursor"},null,-1),pe={class:"roulette_main___winner__slide"},me={class:"roulette_main___winner__slide_list"},we={class:"roulette_main___winner__slide__item_date"},xe={class:"roulette_main___winner__slide__item_name"},he={class:"roulette_main___winner__slide__item_prize"},ve={class:"roulette_main___winner__slide_list"},ye={class:"roulette_main___winner__slide__item_date"},Ae={class:"roulette_main___winner__slide__item_name"},fe={class:"roulette_main___winner__slide__item_prize"},$e={__name:"RouletteMainWinner",props:{winnerListArr:{type:Array,default:()=>[]},winnerRecordArr:{type:Array,default:()=>[]}},setup(l){const e=l,i=H(!1),s=a=>i.value=a;return(a,o)=>{const u=ie;return _(),n("div",ue,[t("div",{class:m(["roulette_main___winner_wrap",{"roulette_main___winner_wrap-record":i.value}])},[t("div",ce,[t("p",{class:"roulette_main___winner__nav_item",onClick:o[0]||(o[0]=r=>s(!1))},"\u4E2D\u734E\u540D\u55AE"),t("p",{class:"roulette_main___winner__nav_item",onClick:o[1]||(o[1]=r=>s(!0))},"\u4E2D\u734E\u8A18\u9304"),de]),t("aside",pe,[t("ul",me,[t("li",null,[e.winnerListArr.length?h("",!0):(_(),A(u,{key:0}))]),(_(!0),n(w,null,x(e.winnerListArr,r=>(_(),n("li",{key:r.name,class:"roulette_main___winner__slide__item"},[t("p",we,d(r.date),1),t("p",xe,d(r.name),1),t("p",he,d(r.prize),1)]))),128))]),t("ul",ve,[t("li",null,[e.winnerRecordArr.length?h("",!0):(_(),A(u,{key:0}))]),(_(!0),n(w,null,x(e.winnerRecordArr,r=>(_(),n("li",{key:r.name,class:"roulette_main___winner__slide__item"},[t("p",ye,d(r.date),1),t("p",Ae,d(r.name),1),t("p",fe,d(r.prize),1)]))),128))])])],2)])}}};const Re={class:"roulette_main___box__times"},ge={class:"roulette_main___box__times_wrap"},be={class:"roulette_main___box__times__num"},Ne=t("span",{class:"roulette_main___box__times__unit"},"\u6B21",-1),Le={__name:"RouletteMainBoxTimes",props:{drawTimesNum:{type:Number,default:0}},setup(l){const e=l;return(i,s)=>(_(),n("div",Re,[t("p",ge,[t("span",be,d(e.drawTimesNum),1),Ne])]))}};const ke={class:"Box3D mBox3D LoadBox3D DAwhite"},Be={class:"Box3D_space mBox3D_space LoadBox3D_space"},Me=t("div",{class:"LoadBox3D_load"},[R(" loading"),t("span",{class:"LoadBox3D_load_ing"},".")],-1),b={__name:"Wbox3dLoading",setup(l){const e=g(["front","back","up","down","left","right"]);return(i,s)=>(_(),n("div",ke,[t("div",Be,[(_(!0),n(w,null,x(e,a=>(_(),n("div",{key:a,class:m(`Box3D__side LoadBox3D__side mBox3D__${a}`)},null,2))),128))]),Me]))}};const Pe={class:"roulette_main___box__coin"},Te={__name:"RouletteMainBoxCoin",setup(l){const e=[...Array(6)];return(i,s)=>(_(),n("div",Pe,[(_(),n(w,null,x(e,(a,o)=>t("span",{key:o,class:m(["roulette_main___box__coin_wrap roulette_main___box__coin_"+o])},null,2)),64))]))}};const ze=t("span",{class:"roulette_main___box__part__color"},null,-1),De={class:"roulette_main___box__part__prizeName"},Se={class:"roulette_main___box__part__prizeName_txt roulette_main___box__part__prizeName_txt-1"},Ce={class:"roulette_main___box__part__prizeName_txt roulette_main___box__part__prizeName_txt-2"},Fe={__name:"RouletteMainBoxPart",props:{rouletteAwardArr:{type:Array,default:()=>[]}},setup(l){const e=l;return(i,s)=>(_(),n("ul",{class:m(["roulette_main___box__part roulette_main___box__part-"+e.rouletteAwardArr.length])},[(_(!0),n(w,null,x(e.rouletteAwardArr,(a,o)=>(_(),n("li",{key:o,class:m(["roulette_main___box__part_list","roulette_main___box__part_list-prize"+a.awards,"roulette_main___box__part_list-num"+o])},[ze,t("p",De,[t("span",Se,d(a.name),1),t("span",Ce,d(a.name),1)]),t("span",{class:m(["roulette_main___box__part__awards roulette_main___box__part__awards-"+a.awards])},null,2)],2))),128))],2))}};const He={class:"roulette_main___awards"},We={key:0},Ve=t("span",{class:"roulette_main___awards___medals"},null,-1),Ie={class:"roulette_main___awards___prize"},Ue=["src"],je={class:"roulette_main___awards___name"},qe={__name:"RouletteMainAwards",props:{awardsPrizeImgArr:{type:Array,default:()=>[]}},setup(l){const e=l;return(i,s)=>{const a=b;return _(),n("ul",He,[e.awardsPrizeImgArr.length?h("",!0):(_(),n("li",We,[c(a)])),(_(!0),n(w,null,x(e.awardsPrizeImgArr,o=>(_(),n("li",{key:o.name,class:"roulette_main___awards_item"},[t("div",{class:m(["roulette_main___awards__wrap roulette_main___awards__wrap-"+o.awards])},[Ve,t("div",Ie,[t("img",{class:"roulette_main___awards___prize_img",src:o.src},null,8,Ue)]),t("p",je,d(o.name),1)],2)]))),128))])}}},$=l=>{const e=l.slice();for(let i=e.length-1;i>0;i--){let s=Math.floor(Math.random()*(i+1));[e[i],e[s]]=[e[s],e[i]]}return e};const Ee={class:"roulette_main"},Oe={class:"roulette_main_wrap"},Ye={class:"roulette_main__nav"},Ge={class:"roulette_main__nav_item"},Je={class:"roulette_main__nav___icon"},Ke=t("span",{class:"roulette_main__nav___txt"},"Dot A",-1),Qe={class:"roulette_main__nav_item"},Xe=t("option",{value:"normal"},"\u666E\u901A\u7248",-1),Ze=t("option",{value:"newYear"},"\u65B0\u5E74\u7248",-1),et=t("option",{value:"xmas"},"\u8056\u8A95\u7BC0\u7248",-1),tt=[Xe,Ze,et],_t={class:"roulette_main__nav_item"},ot=["value"],nt={class:"roulette_main__nav_item"},st=t("option",{value:!1},"\u4E82\u6578\u6392\u5E8F",-1),rt=t("option",{value:!0},"\u5C0F\u5230\u5927\u6392\u5E8F",-1),at=[st,rt],lt={class:"roulette_main__content"},it={class:"roulette_main___box"},ut={class:"roulette_main___box__btn_logo"},dt={__name:"roulette",setup(l){const e=g({className:"normal",drawTimes:16,selectPR:"",lotteryNum:"",ruleText:"",toSort:!1,isLottery:!1,popupShow:!1,PR:[],prizeName:[],rouletteAward:[],winnerList:[],winnerRecord:[]}),i=()=>e.popupShow=!1,s=()=>{e.drawTimes--,setTimeout(()=>{e.popupShow=!0,e.isLottery=!1},800)},a=()=>{if(e.isLottery)return!1;if(e.drawTimes<1)return alert("\u958B\u734E\u6B21\u6578\u6B78\u96F6!"),!1;e.lotteryNum="",e.isLottery=!0,setTimeout(()=>{e.lotteryNum=Math.round(Math.random()*(e.rouletteAward.length-1)),setTimeout(s,1200)},1500)};return f(()=>e.toSort,o=>{e.lotteryNum="";const u=e.PR.filter(r=>r.title===e.selectPR);o?e.rouletteAward=u[0].rouletteAward:e.rouletteAward=$(u[0].rouletteAward)}),f(()=>e.selectPR,o=>{e.lotteryNum="";const u=e.PR.filter(r=>r.title===o);e.prizeName=u[0].rouletteAward.filter(r=>r.awards!==""),e.toSort?e.rouletteAward=u[0].rouletteAward:e.rouletteAward=$(u[0].rouletteAward)}),W(()=>{V.get("https://run.mocky.io/v3/80684193-f878-481e-9628-abfc2d9e0a22").then(o=>{e.PR=o.data.probability,e.winnerList=o.data.winnerList,e.winnerRecord=o.data.winnerRecord,e.selectPR=e.PR[0].title,e.ruleText=o.data.ruleContent,console.log(o.data)}).catch(o=>{console.log(o.response.data)})}),(o,u)=>{const r=U,N=j("RouterLink"),L=qe,k=Fe,B=Te,M=b,P=Le,T=$e,z=_e,D=Q,S=q;return _(),n(w,null,[t("div",{class:m(["roulette",e.className,{"roulette-popupOpen":e.popupShow}])},[t("div",Ee,[t("div",Oe,[t("ul",Ye,[t("li",Ge,[c(N,{to:"/",class:"roulette_main__nav__link"},{default:I(()=>[t("span",Je,[c(r,{name:"icon-dota",color:"#fff"})]),Ke]),_:1})]),t("li",Qe,[v(t("select",{"onUpdate:modelValue":u[0]||(u[0]=p=>e.className=p),class:"roulette_main__nav__select"},tt,512),[[y,e.className]])]),t("li",_t,[v(t("select",{"onUpdate:modelValue":u[1]||(u[1]=p=>e.selectPR=p),class:"roulette_main__nav__select"},[(_(!0),n(w,null,x(e.PR,p=>(_(),n("option",{key:p.title,value:p.title},d(p.title),9,ot))),128))],512),[[y,e.selectPR]])]),t("li",nt,[v(t("select",{"onUpdate:modelValue":u[2]||(u[2]=p=>e.toSort=p),class:"roulette_main__nav__select"},at,512),[[y,e.toSort]])])]),t("div",lt,[c(L,{awardsPrizeImgArr:e.prizeName},null,8,["awardsPrizeImgArr"]),t("div",it,[t("div",{class:m(["roulette_main___box_wrap",e.lotteryNum!==""?"roulette_main___box_wrap-P"+e.rouletteAward.length+"-N"+e.lotteryNum:"",{"roulette_main___box_wrap-rotate":e.isLottery}])},[c(k,{rouletteAwardArr:e.rouletteAward},null,8,["rouletteAwardArr"]),c(B),e.rouletteAward.length?h("",!0):(_(),A(M,{key:0,class:"posCenter"})),e.rouletteAward.length?(_(),n("div",{key:1,class:"roulette_main___box__btn",onClick:a},[t("span",ut,[c(r,{name:"icon-dota",color:"#ed1c24"})])])):h("",!0),c(P,{drawTimesNum:e.drawTimes},null,8,["drawTimesNum"])],2)]),c(T,{winnerListArr:e.winnerList,winnerRecordArr:e.winnerRecord},null,8,["winnerListArr","winnerRecordArr"])])])]),c(z,{rouletteRule:e.ruleText},null,8,["rouletteRule"]),c(D,{popupHideFn:i,lotteryNum:e.lotteryNum,rouletteAwardArr:e.rouletteAward},null,8,["lotteryNum","rouletteAwardArr"])],2),c(S,{class:"DAfoot-normal"})],64)}}};export{dt as default};
