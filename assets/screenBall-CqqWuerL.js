import{O as L,Q as x,a as p,K as f,e as _,o as r,f as l,k as a,h as N,j as y,s as D,t as k,n as u,F as T,v}from"./index-CNwOqUnJ.js";const A=["src"],F=["src"],C={class:"lottoMachine__screenBox"},S={class:"lottoMachine__screenBox_logo"},R={class:"lottoMachine__screenBox_logo_icon"},I={class:"lottoMachine__screenBox_title lottoMachine__screenBox_title-round"},w=["src"],E={class:"lottoMachine__screenBox__num"},V={class:"lottoMachine__screenBox___text"},O=["src"],$=["src"],Q={__name:"screenBall",setup(z){let c=null;const{numTimes:m,numTimesAdd:d}=L(1,3),h=3500,{isImgLoadedCb:b,imgLoadCallbackFn:B}=x(),t=p({img:[],runLottery:!1,lottoTimes:1,lottoNum:[{color:"blue",num:""},{color:"yellow",num:""},{color:"red",num:""},{color:"yellow",num:""},{color:"blue",num:""},{color:"sixth",num:""}]}),e=p({jackpotBg:"https://kuas1091104337.github.io/DotA_img/lottoMachine/jackpotBg.jpg",jackpotCoin:"https://kuas1091104337.github.io/DotA_img/lottoMachine/jackpotCoin.png",jackpotRound:"https://kuas1091104337.github.io/DotA_img/lottoMachine/jackpotRound.png",jackpotBallFrame:"https://kuas1091104337.github.io/DotA_img/lottoMachine/jackpotBallFrame.png",jackpotBallLight:"https://kuas1091104337.github.io/DotA_img/lottoMachine/jackpotBallLight.png",jackpotBallFrameSixth:"https://kuas1091104337.github.io/DotA_img/lottoMachine/jackpotBallFrameSixth.png",jackpotBallLightSixth:"https://kuas1091104337.github.io/DotA_img/lottoMachine/jackpotBallLightSixth.png"}),M=()=>{d(),t.runLottery=!1,t.lottoNum.forEach((s,o)=>t.lottoNum[o].num=""),g()},g=()=>{c=setTimeout(()=>{t.lottoNum.forEach((s,o)=>{setTimeout(()=>{const n=Math.round(Math.random()*9).toString();if((o+1)%t.lottoNum.length)t.lottoNum[o].num=n;else switch(n){case 9:t.lottoNum[o].num=100;break;case 8:t.lottoNum[o].num=50;break;case 7:t.lottoNum[o].num=30;break;case 6:case 5:case 4:t.lottoNum[o].num=10;break;default:t.lottoNum[o].num=5}o===t.lottoNum.length-1&&(t.runLottery=!0,c=setTimeout(()=>M(),h))},o*500)})},h)};for(let s in e)t.img.push({src:e[s]});return B(t.img,"src",g),f(()=>{clearInterval(c)}),(s,o)=>{const n=y;return r(),_("div",{class:u(["lottoMachine_wrap",{start:a(b)}])},[l("img",{class:"lottoMachine__screenBg",src:a(e).jackpotBg,alt:"jackpot bg"},null,8,A),l("img",{class:"lottoMachine__screenCoin",src:a(e).jackpotCoin,alt:"jackpot coin"},null,8,F),l("section",C,[l("h3",S,[l("i",R,[N(n,{name:"icon-dota",color:"#fff"})]),o[0]||(o[0]=l("span",{class:"lottoMachine__screenBox_logo_txt"},"Dot A LOTTERY",-1))]),l("div",I,[l("img",{class:"lottoMachine__screenBox__img",src:a(e).jackpotRound,alt:"jackpot round"},null,8,w),l("p",E,[D(k(a(m))+" ",1),l("span",V,k(a(m)),1)])]),l("ul",{class:u(["lottoMachine__screenBox_ballList",{lottoMachine__screenBox_ballListReult:a(t).runLottery}])},[(r(!0),_(T,null,v(a(t).lottoNum,(i,j)=>(r(),_("li",{key:j,class:"lottoMachine___ballList_item"},[l("img",{src:a(e).jackpotBallFrame,class:"lottoMachine___ballList__bg",alt:"jackpot ball frame"},null,8,O),l("img",{src:a(e).jackpotBallLight,class:"lottoMachine___ballList__light",alt:"jackpot ball light"},null,8,$),l("div",{class:u(["lottoMachine___ballList__ball lottoMachine___ballList__ball-"+i.color,i.num?`num${i.num}`:""])},o[1]||(o[1]=[l("span",{class:"lottoMachine___ballList__ball_num"},null,-1)]),2)]))),128))],2)])],2)}}};export{Q as default};
