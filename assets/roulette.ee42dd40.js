import{b as _,c as o,d as t,x as d,G as h,i as F,t as g,s as R,p as H,H as A,F as w,q as x,n as m,r as b,e as c,w as f,o as W,C as I,f as V,z as v,I as y,l as j,k as U,_ as q}from"./index.8954947d.js";const E={key:0,class:"roulette_popup__box"},G=t("p",{class:"roulette_popup___title"},"\u606D\u559C\u8F49\u5230",-1),O={class:"roulette_popup___name"},Y=["src"],J=t("span",{class:"roulette_popup___close_cross"},null,-1),K=[J],Q={__name:"RoulettePopup",props:{lotteryNum:{type:[String,Number],default:""},rouletteAwardArr:{type:Array,default:()=>[]},popupHideFn:{type:Function,default:()=>{}}},setup(i){const e=i;return(r,a)=>(_(),o("div",{class:"roulette_popup",onClick:a[2]||(a[2]=(...l)=>e.popupHideFn&&e.popupHideFn(...l))},[t("div",{class:"roulette_popup_wrap",onClick:a[1]||(a[1]=F(()=>{},["stop"]))},[e.lotteryNum.toString()?(_(),o("section",E,[G,t("h3",O,d(e.rouletteAwardArr[e.lotteryNum].name),1),t("img",{class:"roulette_popup___img",src:e.rouletteAwardArr[e.lotteryNum].src},null,8,Y),t("div",{class:"roulette_popup___close",onClick:a[0]||(a[0]=(...l)=>e.popupHideFn&&e.popupHideFn(...l))},K)])):h("",!0)])]))}};const X={class:"roulette_rule"},Z={class:"roulette_rule_wrap"},ee=t("h2",{class:"roulette_rule__title"},"\u6D3B\u52D5\u898F\u5247",-1),te=["innerHTML"],_e={__name:"RouletteRule",props:{rouletteRule:{type:String,default:"text"}},setup(i){const e=i;return(r,a)=>(_(),o("div",X,[t("article",Z,[ee,t("div",{class:"roulette_rule__content",innerHTML:e.rouletteRule},null,8,te)])]))}};const oe={},ne={class:"DAtxtLoad DAtxtLoad-white"},se=R(" Loading"),re=t("span",{class:"DAtxtLoad_ing-white"},".",-1),ae=[se,re];function le(i,e){return _(),o("p",ne,ae)}const ie=g(oe,[["render",le]]);const ue={class:"roulette_main___winner"},ce={class:"roulette_main___winner__nav"},de=t("span",{class:"roulette_main___winner__nav_cursor"},null,-1),pe={class:"roulette_main___winner__slide"},me={class:"roulette_main___winner__slide_list"},we={class:"roulette_main___winner__slide__item_date"},xe={class:"roulette_main___winner__slide__item_name"},he={class:"roulette_main___winner__slide__item_prize"},ve={class:"roulette_main___winner__slide_list"},ye={class:"roulette_main___winner__slide__item_date"},Ae={class:"roulette_main___winner__slide__item_name"},fe={class:"roulette_main___winner__slide__item_prize"},$e={__name:"RouletteMainWinner",props:{winnerListArr:{type:Array,default:()=>[]},winnerRecordArr:{type:Array,default:()=>[]}},setup(i){const e=i,r=H(!1),a=l=>r.value=l;return(l,n)=>{const u=ie;return _(),o("div",ue,[t("div",{class:m(["roulette_main___winner_wrap",{"roulette_main___winner_wrap-record":r.value}])},[t("div",ce,[t("p",{class:"roulette_main___winner__nav_item",onClick:n[0]||(n[0]=s=>a(!1))},"\u4E2D\u734E\u540D\u55AE"),t("p",{class:"roulette_main___winner__nav_item",onClick:n[1]||(n[1]=s=>a(!0))},"\u4E2D\u734E\u8A18\u9304"),de]),t("aside",pe,[t("ul",me,[t("li",null,[e.winnerListArr.length?h("",!0):(_(),A(u,{key:0}))]),(_(!0),o(w,null,x(e.winnerListArr,s=>(_(),o("li",{key:s.name,class:"roulette_main___winner__slide__item"},[t("p",we,d(s.date),1),t("p",xe,d(s.name),1),t("p",he,d(s.prize),1)]))),128))]),t("ul",ve,[t("li",null,[e.winnerRecordArr.length?h("",!0):(_(),A(u,{key:0}))]),(_(!0),o(w,null,x(e.winnerRecordArr,s=>(_(),o("li",{key:s.name,class:"roulette_main___winner__slide__item"},[t("p",ye,d(s.date),1),t("p",Ae,d(s.name),1),t("p",fe,d(s.prize),1)]))),128))])])],2)])}}};const ge={class:"roulette_main___box__times"},Re={class:"roulette_main___box__times_wrap"},be={class:"roulette_main___box__times__num"},Ne=t("span",{class:"roulette_main___box__times__unit"},"\u6B21",-1),Le={__name:"RouletteMainBoxTimes",props:{drawTimesNum:{type:Number,default:0}},setup(i){const e=i;return(r,a)=>(_(),o("div",ge,[t("p",Re,[t("span",be,d(e.drawTimesNum),1),Ne])]))}};const ke={class:"Box3D mBox3D LoadBox3D DAwhite"},Te={class:"Box3D_space mBox3D_space LoadBox3D_space"},Be=t("div",{class:"LoadBox3D_load"},[R(" loading"),t("span",{class:"LoadBox3D_load_ing"},".")],-1),N={__name:"Wbox3dLoading",setup(i){const e=b(["front","back","up","down","left","right"]);return(r,a)=>(_(),o("div",ke,[t("div",Te,[(_(!0),o(w,null,x(e,l=>(_(),o("div",{key:l,class:m(["Box3D__side LoadBox3D__side mBox3D__"+l])},null,2))),128))]),Be]))}};const Pe={},Me={class:"roulette_main___box__coin"};function ze(i,e){return _(),o("div",Me,[(_(),o(w,null,x(6,r=>t("span",{key:r,class:m(["roulette_main___box__coin_wrap roulette_main___box__coin_"+r])},null,2)),64))])}const De=g(Pe,[["render",ze]]);const Se=t("span",{class:"roulette_main___box__part__color"},null,-1),Ce={class:"roulette_main___box__part__prizeName"},Fe={class:"roulette_main___box__part__prizeName_txt roulette_main___box__part__prizeName_txt-1"},He={class:"roulette_main___box__part__prizeName_txt roulette_main___box__part__prizeName_txt-2"},We={__name:"RouletteMainBoxPart",props:{rouletteAwardArr:{type:Array,default:()=>[]}},setup(i){const e=i;return(r,a)=>(_(),o("ul",{class:m(["roulette_main___box__part roulette_main___box__part-"+e.rouletteAwardArr.length])},[(_(!0),o(w,null,x(e.rouletteAwardArr,(l,n)=>(_(),o("li",{key:n,class:m(["roulette_main___box__part_list","roulette_main___box__part_list-prize"+l.awards,"roulette_main___box__part_list-num"+n])},[Se,t("p",Ce,[t("span",Fe,d(l.name),1),t("span",He,d(l.name),1)]),t("span",{class:m(["roulette_main___box__part__awards roulette_main___box__part__awards-"+l.awards])},null,2)],2))),128))],2))}};const Ie={class:"roulette_main___awards"},Ve={key:0},je=t("span",{class:"roulette_main___awards___medals"},null,-1),Ue={class:"roulette_main___awards___prize"},qe=["src"],Ee={class:"roulette_main___awards___name"},Ge={__name:"RouletteMainAwards",props:{awardsPrizeImgArr:{type:Array,default:()=>[]}},setup(i){const e=i;return(r,a)=>{const l=N;return _(),o("ul",Ie,[e.awardsPrizeImgArr.length?h("",!0):(_(),o("li",Ve,[c(l)])),(_(!0),o(w,null,x(e.awardsPrizeImgArr,n=>(_(),o("li",{key:n.name,class:"roulette_main___awards_item"},[t("div",{class:m(["roulette_main___awards__wrap roulette_main___awards__wrap-"+n.awards])},[je,t("div",Ue,[t("img",{class:"roulette_main___awards___prize_img",src:n.src},null,8,qe)]),t("p",Ee,d(n.name),1)],2)]))),128))])}}},$=i=>{const e=i.slice();for(let r=e.length-1;r>0;r--){let a=Math.floor(Math.random()*(r+1));[e[r],e[a]]=[e[a],e[r]]}return e};const Oe={class:"roulette_main"},Ye={class:"roulette_main_wrap"},Je={class:"roulette_main__nav"},Ke={class:"roulette_main__nav_item"},Qe={class:"roulette_main__nav___icon"},Xe=t("span",{class:"roulette_main__nav___txt"},"Dot A",-1),Ze={class:"roulette_main__nav_item"},et=t("option",{value:"normal"},"\u666E\u901A\u7248",-1),tt=t("option",{value:"newYear"},"\u65B0\u5E74\u7248",-1),_t=t("option",{value:"xmas"},"\u8056\u8A95\u7BC0\u7248",-1),ot=[et,tt,_t],nt={class:"roulette_main__nav_item"},st=["value"],rt={class:"roulette_main__nav_item"},at=t("option",{value:!1},"\u4E82\u6578\u6392\u5E8F",-1),lt=t("option",{value:!0},"\u5C0F\u5230\u5927\u6392\u5E8F",-1),it=[at,lt],ut={class:"roulette_main__content"},ct={class:"roulette_main___box"},dt={class:"roulette_main___box__btn_logo"},mt={__name:"roulette",setup(i){const e=b({className:"normal",drawTimes:16,selectPR:"",lotteryNum:"",ruleText:"",toSort:!1,isLottery:!1,popupShow:!1,PR:[],prizeName:[],rouletteAward:[],winnerList:[],winnerRecord:[]}),r=()=>e.popupShow=!1,a=()=>{e.drawTimes--,setTimeout(()=>{e.popupShow=!0,e.isLottery=!1},800)},l=()=>{if(e.isLottery)return!1;if(e.drawTimes<1)return alert("\u958B\u734E\u6B21\u6578\u6B78\u96F6!"),!1;e.lotteryNum="",e.isLottery=!0,setTimeout(()=>{e.lotteryNum=Math.round(Math.random()*(e.rouletteAward.length-1)),setTimeout(a,1200)},1500)};return f(()=>e.toSort,n=>{e.lotteryNum="";const u=e.PR.filter(s=>s.title===e.selectPR);n?e.rouletteAward=u[0].rouletteAward:e.rouletteAward=$(u[0].rouletteAward)}),f(()=>e.selectPR,n=>{e.lotteryNum="";const u=e.PR.filter(s=>s.title===n);e.prizeName=u[0].rouletteAward.filter(s=>s.awards!==""),e.toSort?e.rouletteAward=u[0].rouletteAward:e.rouletteAward=$(u[0].rouletteAward)}),W(async()=>{window.scrollTo(0,0);try{const n=await I.get("https://kuas1091104337.github.io/DotA_img/json/roulette.json");e.PR=n.data.probability,e.winnerList=n.data.winnerList,e.winnerRecord=n.data.winnerRecord,e.selectPR=e.PR[0].title,e.ruleText=n.data.ruleContent,console.log(n.data)}catch(n){console.log(n.response.data)}}),(n,u)=>{const s=j,L=U("RouterLink"),k=Ge,T=We,B=De,P=N,M=Le,z=$e,D=_e,S=Q,C=q;return _(),o(w,null,[t("div",{class:m(["roulette",e.className,{"roulette-popupOpen":e.popupShow}])},[t("div",Oe,[t("div",Ye,[t("ul",Je,[t("li",Ke,[c(L,{to:"/",class:"roulette_main__nav__link"},{default:V(()=>[t("span",Qe,[c(s,{name:"icon-dota",color:"#fff"})]),Xe]),_:1})]),t("li",Ze,[v(t("select",{"onUpdate:modelValue":u[0]||(u[0]=p=>e.className=p),class:"roulette_main__nav__select"},ot,512),[[y,e.className]])]),t("li",nt,[v(t("select",{"onUpdate:modelValue":u[1]||(u[1]=p=>e.selectPR=p),class:"roulette_main__nav__select"},[(_(!0),o(w,null,x(e.PR,p=>(_(),o("option",{key:p.title,value:p.title},d(p.title),9,st))),128))],512),[[y,e.selectPR]])]),t("li",rt,[v(t("select",{"onUpdate:modelValue":u[2]||(u[2]=p=>e.toSort=p),class:"roulette_main__nav__select"},it,512),[[y,e.toSort]])])]),t("div",ut,[c(k,{awardsPrizeImgArr:e.prizeName},null,8,["awardsPrizeImgArr"]),t("div",ct,[t("div",{class:m(["roulette_main___box_wrap",e.lotteryNum!==""?"roulette_main___box_wrap-P"+e.rouletteAward.length+"-N"+e.lotteryNum:"",{"roulette_main___box_wrap-rotate":e.isLottery}])},[c(T,{rouletteAwardArr:e.rouletteAward},null,8,["rouletteAwardArr"]),c(B),e.rouletteAward.length?h("",!0):(_(),A(P,{key:0,class:"posCenter"})),e.rouletteAward.length?(_(),o("div",{key:1,class:"roulette_main___box__btn",onClick:l},[t("span",dt,[c(s,{name:"icon-dota",color:"#ed1c24"})])])):h("",!0),c(M,{drawTimesNum:e.drawTimes},null,8,["drawTimesNum"])],2)]),c(z,{winnerListArr:e.winnerList,winnerRecordArr:e.winnerRecord},null,8,["winnerListArr","winnerRecordArr"])])])]),c(D,{rouletteRule:e.ruleText},null,8,["rouletteRule"]),c(S,{popupHideFn:r,lotteryNum:e.lotteryNum,rouletteAwardArr:e.rouletteAward},null,8,["lotteryNum","rouletteAwardArr"])],2),c(C,{class:"DAfoot-normal"})],64)}}};export{mt as default};
