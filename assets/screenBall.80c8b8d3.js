import{K as L,M as x,r as p,D as N,b as _,c as i,d as o,e as f,s as y,t as d,g as r,n as u,F as D,q as v,l as T}from"./index.156ec83b.js";const A=["src"],F=["src"],C={class:"lottoMachine__screenBox"},S={class:"lottoMachine__screenBox_logo"},R={class:"lottoMachine__screenBox_logo_icon"},I=o("span",{class:"lottoMachine__screenBox_logo_txt"},"Dot A LOTTERY",-1),w={class:"lottoMachine__screenBox_title lottoMachine__screenBox_title-round"},E=["src"],V={class:"lottoMachine__screenBox__num"},$={class:"lottoMachine__screenBox___text"},q=["src"],z=["src"],K=o("span",{class:"lottoMachine___ballList__ball_num"},null,-1),O=[K],G={__name:"screenBall",setup(U){let c=null;const{numTimes:m,numTimesAdd:k}=L(1,3),h=3500,{isImgLoadedCb:b,imgLoadCallbackFn:B}=x(),t=p({img:[],runLottery:!1,lottoTimes:1,lottoNum:[{color:"blue",num:""},{color:"yellow",num:""},{color:"red",num:""},{color:"yellow",num:""},{color:"blue",num:""},{color:"sixth",num:""}]}),a=p({jackpotBg:"https://kuas1091104337.github.io/DotA_img/lottoMachine/jackpotBg.jpg",jackpotCoin:"https://kuas1091104337.github.io/DotA_img/lottoMachine/jackpotCoin.png",jackpotRound:"https://kuas1091104337.github.io/DotA_img/lottoMachine/jackpotRound.png",jackpotBallFrame:"https://kuas1091104337.github.io/DotA_img/lottoMachine/jackpotBallFrame.png",jackpotBallLight:"https://kuas1091104337.github.io/DotA_img/lottoMachine/jackpotBallLight.png",jackpotBallFrameSixth:"https://kuas1091104337.github.io/DotA_img/lottoMachine/jackpotBallFrameSixth.png",jackpotBallLightSixth:"https://kuas1091104337.github.io/DotA_img/lottoMachine/jackpotBallLightSixth.png"}),M=()=>{k(),t.runLottery=!1,t.lottoNum.forEach((e,l)=>t.lottoNum[l].num=""),g()},g=()=>{c=setTimeout(()=>{t.lottoNum.forEach((e,l)=>{setTimeout(()=>{const s=Math.round(Math.random()*9).toString();if((l+1)%t.lottoNum.length)t.lottoNum[l].num=s;else switch(s){case 9:t.lottoNum[l].num=100;break;case 8:t.lottoNum[l].num=50;break;case 7:t.lottoNum[l].num=30;break;case 6:case 5:case 4:t.lottoNum[l].num=10;break;default:t.lottoNum[l].num=5}l===t.lottoNum.length-1&&(t.runLottery=!0,c=setTimeout(()=>M(),h))},l*500)})},h)};for(let e in a)t.img.push({src:a[e]});return B(t.img,"src",g),N(()=>{clearInterval(c)}),(e,l)=>{const s=T;return _(),i("div",{class:u(["lottoMachine_wrap",{start:r(b)}])},[o("img",{class:"lottoMachine__screenBg",src:a.jackpotBg,alt:"jackpot bg"},null,8,A),o("img",{class:"lottoMachine__screenCoin",src:a.jackpotCoin,alt:"jackpot coin"},null,8,F),o("section",C,[o("h3",S,[o("i",R,[f(s,{name:"icon-dota",color:"#fff"})]),I]),o("div",w,[o("img",{class:"lottoMachine__screenBox__img",src:a.jackpotRound,alt:"jackpot round"},null,8,E),o("p",V,[y(d(r(m))+" ",1),o("span",$,d(r(m)),1)])]),o("ul",{class:u(["lottoMachine__screenBox_ballList",{lottoMachine__screenBox_ballListReult:t.runLottery}])},[(_(!0),i(D,null,v(t.lottoNum,(n,j)=>(_(),i("li",{key:j,class:"lottoMachine___ballList_item"},[o("img",{src:a.jackpotBallFrame,class:"lottoMachine___ballList__bg",alt:"jackpot ball frame"},null,8,q),o("img",{src:a.jackpotBallLight,class:"lottoMachine___ballList__light",alt:"jackpot ball light"},null,8,z),o("div",{class:u(["lottoMachine___ballList__ball lottoMachine___ballList__ball-"+n.color,n.num?`num${n.num}`:""])},O,2)]))),128))],2)])],2)}}};export{G as default};
